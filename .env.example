WINDMILL_DATABASE_URL=postgres://postgres:changeme@db/windmill?sslmode=disable #TBD - change!
WINDMILL_DB_PASSWORD=changeme #TBD - change!
WINDMILL_DB_NAME=windmill

BUSINESS_LOGIC_DB_USER=business_logic_user #TBD - change!
BUSINESS_LOGIC_DB_PASSWORD=business_logic_password #TBD - change!
BUSINESS_LOGIC_DB_NAME=business_logic_app
#connection string with sample credentials: postgres://business_logic_user:business_logic_password@localhost:5433/business_logic_app

#used only for seed.sql:
OWNER_EMAIL=your_email #TBD - change!
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_ID #TBD - change!
WHATSAPP_ACCESS_TOKEN=your_meta_token #TBD - change!
SLACK_WEBHOOK_URL=your_slack_webhook_url #TBD - optional, for owner notifications (stored in organizations table)

# For Enterprise Edition, use:
# WM_IMAGE=ghcr.io/windmill-labs/windmill-ee:main
WM_IMAGE=ghcr.io/windmill-labs/windmill:main

WEBHOOK_VERIFY_TOKEN=
WINDMILL_TOKEN=
WINDMILL_MESSAGE_PROCESSING_ENDPOINT=

# Meta App Secret for webhook HMAC signature verification
# Get this from your Meta Developer App > App Settings > Basic > App Secret
META_APP_SECRET=

# API Server Configuration (Knowledge Base API)
# The WINDMILL_TOKEN is reused here for calling Windmill scripts from the API
# No additional configuration needed - API server uses same DB and Windmill instance

# JWT Configuration for Management API
JWT_SECRET=your-super-secret-jwt-key-change-in-production  # REQUIRED - Change this!
CORS_ORIGIN=*  # Set to your frontend domain in production, e.g., https://dashboard.yourdomain.com

# Hetzner Deployment (optional, used by deployment/Makefile)
HETZNER_VOLUME_ID=  # Numeric ID of your Hetzner volume (get from: hcloud volume list)
DOMAIN=localhost  # Your domain for Caddy SSL (e.g., api.yourdomain.com)
ADMIN_EMAIL=admin@example.com  # Email for Let's Encrypt notifications

# Resource limits (adjust based on VM size)
# Defaults are for cx23 (2 vCPU, 4GB RAM)
# For cpx31 (4 vCPU, 8GB RAM), use: WINDMILL_CPU_LIMIT=3, WINDMILL_NUM_WORKERS=10, WINDMILL_MEMORY_LIMIT=4096M
WINDMILL_CPU_LIMIT=1.5
WINDMILL_NUM_WORKERS=4
WINDMILL_MEMORY_LIMIT=2048M

# LLM API Keys (for Windmill flows)
# These get synced to Windmill variables by: make setup-windmill
GOOGLE_API_KEY=  # Google Gemini API key (required for LLM processing)
OPENAI_API_KEY=  # OpenAI API key (optional, for embeddings/fallback)

# Monitoring (optional)
SLACK_ALERT_WEBHOOK=  # Slack webhook for application alerts

# To use another port than :80, setup the Caddyfile and the caddy section of the docker-compose to your needs: https://caddyserver.com/docs/getting-started
# To have caddy take care of automatic TLS

# To rotate logs, set the following variables:
#LOG_MAX_SIZE=10m
#LOG_MAX_FILE=3

TEST_DB_HOST=localhost
TEST_DB_PORT=5434
TEST_DB_USER=test_user
TEST_DB_PASSWORD=test_password
TEST_DB_NAME=test_business_logic